{"ast":null,"code":"// 어디에 접근해서 어떤 데이터를 가지고 와야 하는지 정의\n\nimport axios from \"axios\";\nimport { baseURL } from \"../../apiurl\";\nimport { boardReducers } from \"../reducers/board_reducer\";\n//\nfunction getBoardList(currentPage) {\n  // 함수명 없이 바로 사용한다.\n  // board_reducer에 있는 친구를 사용한다.\n  return async dispatch => {\n    ////경로를 써준다...백엔드를 요청하고 결과값을 받을때까지 기다린다.(await)\n    const data = await axios.get(`${baseURL}/board/list/${currentPage}`).then(response => response.data); // 넘겨주는 값을 받을 때는 무조건 response.data를 사용한다.\n\n    console.log(data);\n    dispatch(boardReducers.getBoardList({\n      data\n    }));\n  };\n}\nfunction getBoardDetail(num) {\n  return async dispatch => {\n    //data 값을 reduce를 이용해서 store에 저장해야함\n    const data = await axios.get(`${baseURL}/board/view/${num}`).then(response => response.data); // backend에서 /board/view/ 이렇게 요청하도록 되어있어서 이렇게 주소를 써줌 -> 결과값을 받아옴 .then()\n    dispatch(boardReducers.getBoardDetail({\n      data\n    }));\n  };\n}\n\n//backend에서 결과값을 받아야하니 변수를 선언해주어야함\nfunction getBoardDownload(upload) {\n  return async dispatch => {\n    const data = await axios.get(`${baseURL}/board/contentdownload/${upload}`, {\n      responseType: \"blob\" // backend에서 stream을 통해서 받도록 \"application/octet-stream\" 이렇게 해두어서 이렇게 받아줘야함\n    }).then(response => response.data); // data에 담아서 넘겨줌\n    // data 값을 reduce에 저장시켜줘야함 -> store에 저장하기 위해서\n    //dispatch(boardActions.getBoardDownload(data)); // 이렇게 넘겨줘도 가능\n    return data; // store에 저장안하고 일회성으로 할 거면 이렇게 하고 board_view.js에서만 사용하게끔 할 수 있음\n  };\n}\n\nfunction getBoardDelete(num) {\n  return async dispatch => {\n    await axios.delete(`${baseURL}/board/delete/${num}`).then(response => response.data);\n  };\n}\nfunction getBoardWrite(formData, config) {\n  return async () => {\n    await axios.post(`${baseURL}/board/write`, formData, config).then(response => response.data);\n  };\n}\nfunction getBoardUpdate(formData, config) {\n  return async () => {\n    await axios.put(`${baseURL}/board/update`, formData, config).then(response => response.data);\n  };\n}\n\n// 어디에 있는거를 호출하는지 이름으로 구분 가능하다. 어느 라이브러리에 있는 어느 함수인지\nexport const boardActions = {\n  getBoardList,\n  getBoardDetail,\n  getBoardDownload,\n  getBoardDelete,\n  getBoardWrite,\n  getBoardUpdate\n}; // 여기에 등록을 해주어야 외부에서 접근할 수 있음\n\n// 바로 호출할거면\n// export const getBoardList; // 이런 식으로 쓰는듯","map":{"version":3,"names":["axios","baseURL","boardReducers","getBoardList","currentPage","dispatch","data","get","then","response","console","log","getBoardDetail","num","getBoardDownload","upload","responseType","getBoardDelete","delete","getBoardWrite","formData","config","post","getBoardUpdate","put","boardActions"],"sources":["C:/k_digital/react_workspace/myapp005_fronted_shop/src/reduxs/actions/board_action.js"],"sourcesContent":["// 어디에 접근해서 어떤 데이터를 가지고 와야 하는지 정의\r\n\r\nimport axios from \"axios\";\r\nimport { baseURL } from \"../../apiurl\";\r\nimport { boardReducers } from \"../reducers/board_reducer\";\r\n//\r\nfunction getBoardList(currentPage) {\r\n  // 함수명 없이 바로 사용한다.\r\n  // board_reducer에 있는 친구를 사용한다.\r\n  return async (dispatch) => {\r\n    ////경로를 써준다...백엔드를 요청하고 결과값을 받을때까지 기다린다.(await)\r\n    const data = await axios\r\n      .get(`${baseURL}/board/list/${currentPage}`)\r\n      .then((response) => response.data); // 넘겨주는 값을 받을 때는 무조건 response.data를 사용한다.\r\n\r\n    console.log(data);\r\n    dispatch(boardReducers.getBoardList({ data }));\r\n  };\r\n}\r\n\r\nfunction getBoardDetail(num) {\r\n  return async (dispatch) => {\r\n    //data 값을 reduce를 이용해서 store에 저장해야함\r\n    const data = await axios\r\n      .get(`${baseURL}/board/view/${num}`)\r\n      .then((response) => response.data); // backend에서 /board/view/ 이렇게 요청하도록 되어있어서 이렇게 주소를 써줌 -> 결과값을 받아옴 .then()\r\n    dispatch(boardReducers.getBoardDetail({ data }));\r\n  };\r\n}\r\n\r\n//backend에서 결과값을 받아야하니 변수를 선언해주어야함\r\nfunction getBoardDownload(upload) {\r\n  return async (dispatch) => {\r\n    const data = await axios\r\n      .get(`${baseURL}/board/contentdownload/${upload}`, {\r\n        responseType: \"blob\", // backend에서 stream을 통해서 받도록 \"application/octet-stream\" 이렇게 해두어서 이렇게 받아줘야함\r\n      })\r\n      .then((response) => response.data); // data에 담아서 넘겨줌\r\n    // data 값을 reduce에 저장시켜줘야함 -> store에 저장하기 위해서\r\n    //dispatch(boardActions.getBoardDownload(data)); // 이렇게 넘겨줘도 가능\r\n    return data; // store에 저장안하고 일회성으로 할 거면 이렇게 하고 board_view.js에서만 사용하게끔 할 수 있음\r\n  };\r\n}\r\n\r\nfunction getBoardDelete(num) {\r\n  return async (dispatch) => {\r\n    await axios\r\n      .delete(`${baseURL}/board/delete/${num}`)\r\n      .then((response) => response.data);\r\n  };\r\n}\r\n\r\nfunction getBoardWrite(formData, config) {\r\n  return async () => {\r\n    await axios\r\n      .post(`${baseURL}/board/write`, formData, config)\r\n      .then((response) => response.data);\r\n  };\r\n}\r\n\r\nfunction getBoardUpdate(formData, config) {\r\n  return async () => {\r\n    await axios\r\n      .put(`${baseURL}/board/update`, formData, config)\r\n      .then((response) => response.data);\r\n  };\r\n}\r\n\r\n// 어디에 있는거를 호출하는지 이름으로 구분 가능하다. 어느 라이브러리에 있는 어느 함수인지\r\nexport const boardActions = {\r\n  getBoardList,\r\n  getBoardDetail,\r\n  getBoardDownload,\r\n  getBoardDelete,\r\n  getBoardWrite,\r\n  getBoardUpdate,\r\n}; // 여기에 등록을 해주어야 외부에서 접근할 수 있음\r\n\r\n// 바로 호출할거면\r\n// export const getBoardList; // 이런 식으로 쓰는듯\r\n"],"mappings":"AAAA;;AAEA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,cAAc;AACtC,SAASC,aAAa,QAAQ,2BAA2B;AACzD;AACA,SAASC,YAAYA,CAACC,WAAW,EAAE;EACjC;EACA;EACA,OAAO,MAAOC,QAAQ,IAAK;IACzB;IACA,MAAMC,IAAI,GAAG,MAAMN,KAAK,CACrBO,GAAG,CAAE,GAAEN,OAAQ,eAAcG,WAAY,EAAC,CAAC,CAC3CI,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACH,IAAI,CAAC,CAAC,CAAC;;IAEtCI,OAAO,CAACC,GAAG,CAACL,IAAI,CAAC;IACjBD,QAAQ,CAACH,aAAa,CAACC,YAAY,CAAC;MAAEG;IAAK,CAAC,CAAC,CAAC;EAChD,CAAC;AACH;AAEA,SAASM,cAAcA,CAACC,GAAG,EAAE;EAC3B,OAAO,MAAOR,QAAQ,IAAK;IACzB;IACA,MAAMC,IAAI,GAAG,MAAMN,KAAK,CACrBO,GAAG,CAAE,GAAEN,OAAQ,eAAcY,GAAI,EAAC,CAAC,CACnCL,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACH,IAAI,CAAC,CAAC,CAAC;IACtCD,QAAQ,CAACH,aAAa,CAACU,cAAc,CAAC;MAAEN;IAAK,CAAC,CAAC,CAAC;EAClD,CAAC;AACH;;AAEA;AACA,SAASQ,gBAAgBA,CAACC,MAAM,EAAE;EAChC,OAAO,MAAOV,QAAQ,IAAK;IACzB,MAAMC,IAAI,GAAG,MAAMN,KAAK,CACrBO,GAAG,CAAE,GAAEN,OAAQ,0BAAyBc,MAAO,EAAC,EAAE;MACjDC,YAAY,EAAE,MAAM,CAAE;IACxB,CAAC,CAAC,CACDR,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACH,IAAI,CAAC,CAAC,CAAC;IACtC;IACA;IACA,OAAOA,IAAI,CAAC,CAAC;EACf,CAAC;AACH;;AAEA,SAASW,cAAcA,CAACJ,GAAG,EAAE;EAC3B,OAAO,MAAOR,QAAQ,IAAK;IACzB,MAAML,KAAK,CACRkB,MAAM,CAAE,GAAEjB,OAAQ,iBAAgBY,GAAI,EAAC,CAAC,CACxCL,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACH,IAAI,CAAC;EACtC,CAAC;AACH;AAEA,SAASa,aAAaA,CAACC,QAAQ,EAAEC,MAAM,EAAE;EACvC,OAAO,YAAY;IACjB,MAAMrB,KAAK,CACRsB,IAAI,CAAE,GAAErB,OAAQ,cAAa,EAAEmB,QAAQ,EAAEC,MAAM,CAAC,CAChDb,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACH,IAAI,CAAC;EACtC,CAAC;AACH;AAEA,SAASiB,cAAcA,CAACH,QAAQ,EAAEC,MAAM,EAAE;EACxC,OAAO,YAAY;IACjB,MAAMrB,KAAK,CACRwB,GAAG,CAAE,GAAEvB,OAAQ,eAAc,EAAEmB,QAAQ,EAAEC,MAAM,CAAC,CAChDb,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACH,IAAI,CAAC;EACtC,CAAC;AACH;;AAEA;AACA,OAAO,MAAMmB,YAAY,GAAG;EAC1BtB,YAAY;EACZS,cAAc;EACdE,gBAAgB;EAChBG,cAAc;EACdE,aAAa;EACbI;AACF,CAAC,CAAC,CAAC;;AAEH;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}